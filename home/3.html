<!DOCTYPE HTML>
<html><head><title>Home (Page 3) · in Code</title><meta name="description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="flattr:id" content="3p9jqr"><meta property="og:site_name" content="in Code"><meta property="og:description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta property="og:type" content="website"><meta property="og:title" content="Home (Page 3)"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/home/3.html"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/home/3.html"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/home.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><li><a href="https://cv.jle.im">cv</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><section class="home-section" role="main"><header class="tile unit span-grid"><section class="home-banner"><h1 class="home-banner-history"><a href="https://blog.jle.im/">in Code</a></h1></section></header><div class="unit three-of-four"><div class="tile"><h2 class="recent-header">Recent Entries (Page 3)</h2></div><ul><li><article class="tile"><header><time datetime="2020-01-13T13:04:16Z" pubdate="" class="pubdate">Monday January 13, 2020</time><h3><a href="https://blog.jle.im/entry/foldl-adjunction.html">Adjunctions in the wild: foldl</a></h3></header><div class="entry-lede copy-content"><p>I recently made a few connections that linked some different concepts in Haskell that I hadn’t realized before. They deal with one of my favorite “practical” libraries in Haskell, and also one of the more “profound” category theory-inspired abstractions in Haskell. In the process, it made the library a bit more useful to me, and also made the concept a bit more concrete and understandable to me.</p>
<p>This post mainly goes through my thought process in finding this out — it’s very much a “how I think through this” sort of thing — in the end, the goal is to show how much this example made me further appreciate the conceptual idea of adjunctions and how they can pop up in interesting places in practical libraries. Unlike most of my other posts, it’s not about necessarily about how practically useful an abstraction is, but rather what insight it gives us to understanding its instances.</p>
<p>The audience of this post is Haskellers with an understanding/appreciation of abstractions like <code>Applicative</code>, but be aware that the final section is separately considered as a fun aside for those familiar with some of Haskell’s more esoteric types. The code samples used here (along with exercise solutions) are <a href="https://github.com/mstksg/inCode/tree/master/code-samples/adjunctions/foldl.hs">available on github</a>.</p><p><a href="https://blog.jle.im/entry/foldl-adjunction.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/foldl-adjunction.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/category-theory.html" class="tag-a-tag">#category theory</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2019-08-05T12:10:07Z" pubdate="" class="pubdate">Monday August 5, 2019</time><h3><a href="https://blog.jle.im/entry/simple-tcpip-services-servant.html">Dead-simple TCP/IP services using servant</a></h3></header><div class="entry-lede copy-content"><p>In my time I’ve written a lot of throwaway binary TCP/IP services (servers and services you can interact with over an internet connection, through command line interface or GUI). For me, this involves designing a protocol from scratch every time with varying levels of hand-rolled authentication and error detection (Send this byte for this command, this byte for this other command, etc.). Once I design the protocol, I then have to write both the command line client and the server — something I usually do from scratch over the raw TCP streams.</p>
<p>This process was fun (and informative) the first few times I did it, but spinning it up from scratch again every time discouraged me from doing it very often. However, thankfully, with the <em><a href="https://hackage.haskell.org/package/servant">servant</a></em> haskell library (and <em><a href="https://hackage.haskell.org/package/servant-cli">servant-cli</a></em>, for command line clients), writing a TCP server/client pair for a TCP service (using HTTP under the hood) becomes dead-simple — the barrier for creating one fades away that designing/writing a service becomes a tool that I reach for immediately in a lot of cases without second thought.</p>
<p><em>servant</em> is usually advertised as a tool for writing web servers, web applications, and REST APIs, but it’s easily adapted to write non-web things as well. Let’s dive in and write a simple TCP/IP service (a todo list manager) to see how straightforward the process is!</p>
<p>To goal of this article is to take service/program that you already have planned out, and <em>easily provide</em> it with a networked API that can be used over any TCP/IP connection (over the internet, or even locally). This won’t teach you <em>how</em> to write a todo app, but rather how to <em>hook up</em> a todo app over a TCP/IP connection quickly, with a command line client — and in such a simple way that you wouldn’t give a second thought based on complexity issues.</p>
<p>This post can also serve as a stepping-stone to a “microservices architecture”, if you intend to build towards one (this is explored deeper by <a href="https://github.com/k-bx/owlcloud">k-bx</a>)…but really it’s more focused for standalone user-facing applications. How you apply these techniques is up to you :)</p>
<p>All of the code in this article is available online, and the server and client are available as “stack executables”: if you download them all, and set the permissions properly (<code>chmod u+x</code>), you can directly run them to launch the server and client (if they are all download to the same directory).</p><p><a href="https://blog.jle.im/entry/simple-tcpip-services-servant.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/simple-tcpip-services-servant.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/servant.html" class="tag-a-tag">#servant</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2019-06-19T10:41:46Z" pubdate="" class="pubdate">Wednesday June 19, 2019</time><h3><a href="https://blog.jle.im/entry/functor-combinatorpedia.html">The Functor Combinatorpedia</a></h3></header><div class="entry-lede copy-content"><p><strong>functor-combinators</strong>: <a href="https://hackage.haskell.org/package/functor-combinators">hackage</a> / <a href="https://github.com/mstksg/functor-combinators">github</a></p>
<p>(<em>Note:</em> This post has been heavily revised to reflect the functor-combinators-0.2 refactoring, as of November 2019. For reference, <a href="https://github.com/mstksg/inCode/blob/ceee9f33492bb703380d877477728feb4fe60a6a/entry/functor-combinatorpedia.md">the original post</a> is available on github.)</p>
<p>(<em>Note 2:</em> The section on contravariant functor combinators was added following the release of <em>functor-combinators-0.3</em> in August 2020, which added support for contravariant and invariant functor combinators.)</p>
<p>Recently I’ve been very productive what I have been calling the “Functor Combinator” design pattern. It is heavily influenced by ideas like <a href="http://www.cs.ru.nl/~W.Swierstra/Publications/DataTypesALaCarte.pdf">Data types a la Carte</a> and <a href="http://oleg.fi/gists/posts/2018-02-21-single-free.html">unified free monoidal functors</a>, but the end goal is slightly different in spirit. The goal is to represent schemas, DSL’s, and computations (things like parsers, things to execute, things to consume or produce data) by assembling “self-evident” basic primitives and subjecting them to many <em>different</em> successive transformations and combiners (through combinators, free structures, tensors, and other options). The process of doing so:</p>
<ol type="1">
<li>Forces you to make explicit decisions about the structure of your computation type as an ADT.</li>
<li>Allows you to retain isolation of fundamental parts of your domain as separate types</li>
<li>Lets you manipulate the structure of your final computation type through <em>normal Haskell techniques</em> like pattern matching. The structure is available throughout the entire process, so you can replace individual components and values within your structure.</li>
<li>Allows you to fully <em>reflect</em> the structure of your final computation through pattern matching and folds, so you can inspect the structure and produce useful summaries.</li>
</ol>
<p>Like “data types a la carte” and free monad/applicative/alternative designs, these techniques allow you to separate the assembly and inspection of your programs from the “running” of them.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> However, the main difference is that here we focus not just on products and sums, but many different varied and multi-purpose combinators — a “zoo” of combinators. The fixed point is <em>not</em> the end goal. The actual ADT data types <em>themselves</em> are the goal.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>On the surface, this functor combinator design pattern might look like it fills a similar space to effects systems and libraries like <em><a href="https://hackage.haskell.org/package/mtl">mtl</a></em>, <em><a href="https://hackage.haskell.org/package/polysemy">polysemy</a></em>, <em><a href="https://hackage.haskell.org/package/freer-simple">freer-simple</a></em>, or <em><a href="https://hackage.haskell.org/package/fused-effects">fused-effects</a></em>. However, this design pattern actually exists on a different level.</p>
<p>Functor combinator design patterns can be used to help build the <em>structure</em> of the <em>data types</em> and schemas that define your program/DSL. Once you build these nice structures, you then <em>interpret</em> them into some target context. This “target context” is the realm that libraries like <em>mtl</em> and <em>polysemy</em> can fill; functor combinators serve to help you define a structure for your program <em>before</em> you interpret it into whatever Applicative or Monad or effects system you end up using.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><p><a href="https://blog.jle.im/entry/functor-combinatorpedia.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/functor-combinatorpedia.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/free.html" class="tag-a-tag">#free</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/interpreters.html" class="tag-a-tag">#interpreters</a></li><li><a href="https://blog.jle.im/entries/tagged/functor-combinators.html" class="tag-a-tag">#functor combinators</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2019-04-08T11:42:09Z" pubdate="" class="pubdate">Monday April 8, 2019</time><h3><a href="https://blog.jle.im/entry/free-alternative-regexp.html">Applicative Regular Expressions using the Free Alternative</a></h3></header><div class="entry-lede copy-content"><p>Today, we’re going to implement applicative regular expressions and parsers (in the style of the <a href="https://hackage.haskell.org/package/regex-applicative">regex-applicative</a> library) using free structures!</p>
<p>Free structures are some of my favorite tools in Haskell, and I’ve actually written a few posts about them before, including <a href="https://blog.jle.im/entry/alchemical-groups.html">this one using free groups</a>, <a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html">this one on a free monad variation</a>, and <a href="https://blog.jle.im/entry/const-applicative-and-monoids.html">this one on a “free” applicative on a monoid</a>.</p>
<p>Regular expressions (and parsers) are ubiquitous in computer science and programming, and I hope that demonstrating that they are pretty straightforward to implement using free structures will help you see the value in free structures without getting too bogged down in the details!</p>
<p>All of the code in this post is <a href="https://github.com/mstksg/inCode/tree/master/code-samples/misc/regexp.hs">available online</a> as a “stack executable”. When you run it (<code>./regexp.hs</code>), you’ll load up a <em>ghci</em> session with all of the definitions in scope, so you can play around with the functions and types :)</p>
<p>This post should be accessible to late beginner or early intermediate Haskell users, and requires some basic familiarity with pattern matching, algebraic data types, and abstractions like <code>Monoid</code> and <code>Functor</code>, and do notation.</p><p><a href="https://blog.jle.im/entry/free-alternative-regexp.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/free-alternative-regexp.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/parsers.html" class="tag-a-tag">#parsers</a></li><li><a href="https://blog.jle.im/entries/tagged/functor-combinators.html" class="tag-a-tag">#functor combinators</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2019-01-25T13:34:18Z" pubdate="" class="pubdate">Friday January 25, 2019</time><h3><a href="https://blog.jle.im/entry/tries-with-recursion-schemes.html">Visualizing Prequel Meme Prefix Tries with Recursion Schemes</a></h3></header><div class="entry-lede copy-content"><p>Not too long ago, I was browsing the <a href="https://www.reddit.com/r/PrequelMemes">prequel memes subreddit</a> — a community built around creative ways of remixing and re-contextualizing quotes from the cinematic corpus of the three <a href="https://en.wikipedia.org/wiki/Star_Wars_prequel_trilogy">Star Wars “prequel” movies</a> — when I noticed that a fad was in progress <a href="https://www.reddit.com/r/PrequelMemes/comments/9w59t4/i_expanded_it/">constructing tries based on quotes as keys</a> indexing stills from the movie corresponding to those quotes.</p>
<p>This inspired me to try playing around with some tries myself, and it gave me an excuse to play around with <em><a href="https://hackage.haskell.org/package/recursion-schemes">recursion-schemes</a></em> (one of my favorite Haskell libraries). If you haven’t heard about it yet, <em>recursion-schemes</em> (and the similar library <em><a href="https://hackage.haskell.org/package/data-fix">data-fix</a></em>) abstracts over common recursive functions written on recursive data types. It exploits the fact that a lot of recursive functions for different recursive data types all really follow the same pattern and gives us powerful tools for writing cleaner and safer code, and also for seeing our data types in a different light. The library is a pathway to many viewpoints — some considered to be particularly natural.</p>
<p>Recursion schemes is a perfect example of those amazing accidents that happen throughout the Haskell ecosystem: an extremely “theoretically beautiful” abstraction that also happens to be extremely useful for writing industrially rigorous code.</p>
<p>Is it possible to learn this power? Yes! As a fun intermediate-level Haskell project, let’s build a trie data type in Haskell based on <em>recursion-schemes</em> to see what it has to offer!</p><p><a href="https://blog.jle.im/entry/tries-with-recursion-schemes.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/tries-with-recursion-schemes.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/recursion-schemes.html" class="tag-a-tag">#recursion schemes</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li><li><a href="https://blog.jle.im/entries/series/+beginner-intermediate-haskell-projects.html" class="tag-a-series">+Beginner/Intermediate Haskell Projects</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-12-10T16:34:37Z" pubdate="" class="pubdate">Monday December 10, 2018</time><h3><a href="https://blog.jle.im/entry/shifting-the-stars.html">Shifting the Stars: Advent of Code with Galilean Optimization</a></h3></header><div class="entry-lede copy-content"><p>(TL;DR: scroll down to the very bottom for a summary and the closed form solution)</p>
<p>Another short Advent of Code post! <a href="https://adventofcode.com/2018">Advent of Code 2018</a> is in full swing; we’re 40% of the way through. Every once in a while, if I find a fun way to solve a problem, I’ll make a short post about it. You can check out my other ones <a href="https://blog.jle.im/entries/series/+advent-of-code.html">here on the series page</a>, and you can also find my <a href="https://github.com/mstksg/advent-of-code-2018/blob/master/reflections.md">daily reflections</a> here, as well. And, again, if you’re following along in Haskell, why not hop on <a href="https://twitter.com/glguy">glguy’s</a> semi-official <a href="https://adventofcode.com/2018/leaderboard/private">Haskell Leaderboard</a> (join code <code>43100-84040706</code>)! There are also Haskellers on freenode ##adventofcode, and also #adventofcode on the Functional Programming slack. You might also find my <a href="https://hackage.haskell.org/package/advent-of-code-api">advent of code api</a> haskell bindings helpful too!</p>
<p>Today, we’re going to be using linear algebra, calculus, and galilian transformations to solve the <em>Day 10</em> challenge. (That’s right, this isn’t just a Haskell blog, I do have <a href="https://blog.jle.im/entries/category/@math.html">math</a> posts on occasion too :) )</p><p><a href="https://blog.jle.im/entry/shifting-the-stars.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/shifting-the-stars.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag">#advent of code</a></li><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag">#linear algebra</a></li><li><a href="https://blog.jle.im/entries/tagged/physics.html" class="tag-a-tag">#physics</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li><li><a href="https://blog.jle.im/entries/series/+advent-of-code.html" class="tag-a-series">+Advent of Code</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-12-05T19:20:51Z" pubdate="" class="pubdate">Wednesday December 5, 2018</time><h3><a href="https://blog.jle.im/entry/alchemical-groups.html">Alchemical Groups: Advent of Code with Free Groups and Group Homomorphisms</a></h3></header><div class="entry-lede copy-content"><p>Hi all! If you don’t already know, <em><a href="https://adventofcode.com/2018">Advent of Code</a></em> is in full swing this year! If you’re participating and using Haskell, you’re welcome to join us at <a href="https://twitter.com/glguy">glguy</a>’s semi-official <a href="https://adventofcode.com/2018/leaderboard/private">Haskell Leaderboard</a> (join code <code>43100-84040706</code>)! There are also Haskellers on freenode ##adventofcode, and also #adventofcode on the Functional Programming slack. I also wrote a <a href="https://hackage.haskell.org/package/advent-of-code-api">haskell library to the API</a>, if you’re looking to streamline your process!</p>
<p>My <a href="https://github.com/mstksg/advent-of-code-2018/blob/master/reflections.md">daily reflections</a> are online, where I talk about how I approach each problem and what insight purely typed Functional Programming gives us for each problem.</p>
<p>Every once in a while I’ll find a challenge that I think can be pulled out as a short blog post, so I’ll bring them onto the blog for a more long-term sort of longevity!<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>In this one, I’ll talk about using group theory to solve the <em>Day 5</em> challenge. Spoilers for those who have not solved it yet!</p>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>These short posts won’t be counted as “paid” Patreon posts.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><p><a href="https://blog.jle.im/entry/alchemical-groups.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/alchemical-groups.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag">#advent of code</a></li><li><a href="https://blog.jle.im/entries/tagged/abstract-algebra.html" class="tag-a-tag">#abstract algebra</a></li><li><a href="https://blog.jle.im/entries/tagged/group-theory.html" class="tag-a-tag">#group theory</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li><li><a href="https://blog.jle.im/entries/series/+advent-of-code.html" class="tag-a-series">+Advent of Code</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-10-22T04:06:55Z" pubdate="" class="pubdate">Monday October 22, 2018</time><h3><a href="https://blog.jle.im/entry/introduction-to-singletons-4.html">Introduction to Singletons (Part 4)</a></h3></header><div class="entry-lede copy-content"><p>Hi again! Welcome back; let’s jump right into the fourth and final part of our journey through the <em>singleton design pattern</em> and the great <em><a href="http://hackage.haskell.org/package/singletons">singletons</a></em> library.</p>
<p>Please check out <a href="https://blog.jle.im/entries/series/+introduction-to-singletons.html">the first three parts of the series</a> and make sure you are comfortable with them before reading on. I definitely also recommend trying out some or all of the exercises, since we are going to be building on the concepts in those posts in a pretty heavy way.</p>
<p>Today we’re going to jump straight into <em>functional programming</em> at the type level. Code in this post is built on <em>GHC 8.6.1</em> with the <em><a href="https://www.stackage.org/nightly-2018-09-29">nightly-2018-09-29</a></em> snapshot (so, <em>singletons-2.5</em>). However, unless noted, all of the code should still work with <em>GHC 8.4</em> and <em>singletons-2.4</em>.</p><p><a href="https://blog.jle.im/entry/introduction-to-singletons-4.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/introduction-to-singletons-4.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag">#dependent types</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag">#singletons</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li><li><a href="https://blog.jle.im/entries/series/+introduction-to-singletons.html" class="tag-a-series">+Introduction to Singletons</a></li></ul></footer></article></li></ul><footer class="tile home-footer"><nav><ul><li class="home-next"><a href="https://blog.jle.im/home/4.html">&larr; Older</a></li><li class="home-prev"><a href="https://blog.jle.im/home/2.html">Newer &rarr;</a></li></ul><div class="clear"></div></nav></footer></div><nav class="unit one-of-four home-sidebar"><div class="tile"><div class="home-links"><ul>
<li><h3 id="social">Social</h3>
<ul>
<li><a href="https://twitter.com/mstk" class="home-link" title="Twitter">Twitter</a></li>
<li><a href="https://github.com/mstksg" class="home-link" title="Github">Github</a></li>
<li><a href="https://plus.google.com/+JustinLe" class="home-link" title="Google+">Google+</a></li>
<li><a href="https://linkedin.com/in/lejustin" class="home-link" title="LinkedIn">LinkedIn</a></li>
<li><a href="https://keybase.io/mstksg" class="home-link" title="Keybase">Keybase (PGP)</a></li>
</ul></li>
<li><h3 id="links">Links</h3>
<ul>
<li><a href="https://cv.jle.im" class="home-link" title="Resume">Resumé</a></li>
<li><a href="https://stackoverflow.com/users/292731/justin-l" class="home-link" title="Stack Overflow">Stack Overflow</a></li>
<li><a href="https://www.twitch.tv/mstksg" class="home-link" title="Twitch">Twitch</a></li>
<li><a href="bitcoin://3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU" class="home-link" title="Bitcoin">Bitcoin</a></li>
</ul></li>
</ul>
<p><a href="https://www.patreon.com/justinle" class="patreon-button" title="Become a Patron"><img src="/img/assets/patreon.png" /></a></p></div><div class="home-patrons"><p>Special thanks to my supporters on Patreon!</p><ul><li><a href="https://twitter.com/gluegadget">Amir Saeid</a></li><li>Andrew Handley-Marsh</li><li><a href="https://twitter.com/austinvhuang">Austin Huang</a></li><li><a href="https://twitter.com/domenkozar">Domen Kožar</a></li><li>Fintan Halpenny</li><li>Josh Miller</li><li><a href="https://twitter.com/joshvera">Josh Vera</a></li><li><a href="https://twitter.com/argumatronic">Julie Moronuki</a></li><li><a href="https://twitter.com/Sam Stites">Sam Stites</a></li><li><a href="https://twitter.com/shapr">Shae Erisson</a></li></ul></div></div><div class="tile home-tags"><ul><li class="home-category-list"><h3><a href="https://blog.jle.im/categories.html">Topics</a></h3><ul><li><a href="https://blog.jle.im/entries/category/@auto.html" class="tag-a-category" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform. Check out the README, tutorial, or examples for
more information!
">@Auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/category/@computation.html" class="tag-a-category" title="Posts that deal with numerical techniques and the art and science of,
well...computing things.
">@Computation</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@engineering.html" class="tag-a-category" title="Posts about engineering, the practical art of taming the physical world.
">@Engineering</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category" title="Functional, pure, non-strict, statically and strongly typed, natively
compiled...really just the king of great languages.
">@Haskell</a>&nbsp;<span>(63)</span></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category" title="@MATH">@Math</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/category/@meta.html" class="tag-a-category" title="Posts about this blog or blogging in general. So meta.
">@Meta</a>&nbsp;<span>(5)</span></li><li><a href="https://blog.jle.im/entries/category/@personal.html" class="tag-a-category" title="@PERSONAL">@Personal</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/category/@physics.html" class="tag-a-category" title="Regarding the models that describe the physical world.
">@Physics</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@projects.html" class="tag-a-category" title="Progress or presentations of completed or ongoing open source projects I have
worked/am working on. Hopefully either the development process or the end
product can be useful to someone!
">@Projects</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/category/@ramblings.html" class="tag-a-category" title="My slight ramblings on subjects of interest (to me and hopefully to you too!).
Lots of surveys and introducts to new subjects.
">@Ramblings</a>&nbsp;<span>(17)</span></li><li><a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category" title="@REFERENCE">@Reference</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category" title="Technical tutorials/walkthroughs on specific programming processes and problems
that I&#39;ve struggled through in the past.
">@Tutorials</a>&nbsp;<span>(17)</span></li></ul></li><li class="home-tags-list"><h3><a href="https://blog.jle.im/tags.html">Tags</a></h3><ul><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag" title="#haskell">#haskell</a>&nbsp;<span>(59)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag" title="#functional programming">#functional programming</a>&nbsp;<span>(39)</span></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag" title="#dependent types">#dependent types</a>&nbsp;<span>(12)</span></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag" title="#types">#types</a>&nbsp;<span>(11)</span></li><li><a href="https://blog.jle.im/entries/tagged/monads.html" class="tag-a-tag" title="#monads">#monads</a>&nbsp;<span>(10)</span></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag" title="#singletons">#singletons</a>&nbsp;<span>(10)</span></li><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag" title="#advent of code">#advent of code</a>&nbsp;<span>(8)</span></li><li><a href="https://blog.jle.im/entries/tagged/functor-combinators.html" class="tag-a-tag" title="#functor combinators">#functor combinators</a>&nbsp;<span>(7)</span></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag" title="#machine learning">#machine learning</a>&nbsp;<span>(7)</span></li><li><a href="https://blog.jle.im/entries/tagged/physics.html" class="tag-a-tag" title="#physics">#physics</a>&nbsp;<span>(5)</span></li><li><a href="https://blog.jle.im/entries/tagged/arrows.html" class="tag-a-tag" title="#arrows">#arrows</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/interpreters.html" class="tag-a-tag" title="#interpreters">#interpreters</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/io.html" class="tag-a-tag" title="#io">#io</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical.html" class="tag-a-tag" title="#numerical">#numerical</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical-methods.html" class="tag-a-tag" title="#numerical methods">#numerical methods</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/artificial-neural-networks.html" class="tag-a-tag" title="#artificial neural networks">#artificial neural networks</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto.html" class="tag-a-tag" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform.
">#auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto-machines.html" class="tag-a-tag" title="Posts about the &quot;automation arrow&quot; type, an implementation of the mathematical
&quot;mealy machine&quot;.
">#auto-machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag" title="#backprop">#backprop</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/challenges.html" class="tag-a-tag" title="#challenges">#challenges</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag" title="#deep learning">#deep learning</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag" title="#differentiable programming">#differentiable programming</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/free.html" class="tag-a-tag" title="#free">#free</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag" title="#linear algebra">#linear algebra</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/machines.html" class="tag-a-tag" title="#machines">#machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag" title="#modeling">#modeling</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/purescript.html" class="tag-a-tag" title="#purescript">#purescript</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/abstract-algebra.html" class="tag-a-tag" title="#abstract algebra">#abstract algebra</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/bash.html" class="tag-a-tag" title="#bash">#bash</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/control-theory.html" class="tag-a-tag" title="#control theory">#control theory</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/doctorate.html" class="tag-a-tag" title="#doctorate">#doctorate</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/education.html" class="tag-a-tag" title="#education">#education</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/existential-types.html" class="tag-a-tag" title="#existential types">#existential types</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/group-theory.html" class="tag-a-tag" title="#group theory">#group theory</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/invariant-functors.html" class="tag-a-tag" title="#invariant functors">#invariant functors</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/abominations.html" class="tag-a-tag" title="#abominations">#abominations</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ad.html" class="tag-a-tag" title="#ad">#ad</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/algebra.html" class="tag-a-tag" title="#algebra">#algebra</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/applicatives.html" class="tag-a-tag" title="#applicatives">#applicatives</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/category-theory.html" class="tag-a-tag" title="#category theory">#category theory</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/cellular-automata.html" class="tag-a-tag" title="#cellular automata">#cellular automata</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/chapman.html" class="tag-a-tag" title="#chapman">#chapman</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/command-line.html" class="tag-a-tag" title="#command line">#command line</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/dhall.html" class="tag-a-tag" title="#dhall">#dhall</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fay.html" class="tag-a-tag" title="#fay">#fay</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fortran.html" class="tag-a-tag" title="#fortran">#fortran</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-reactive-programming.html" class="tag-a-tag" title="#functional reactive programming">#functional reactive programming</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/functors.html" class="tag-a-tag" title="#functors">#functors</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ghcjs.html" class="tag-a-tag" title="#ghcjs">#ghcjs</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/hakyll.html" class="tag-a-tag" title="#hakyll">#hakyll</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/heroku.html" class="tag-a-tag" title="#heroku">#heroku</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/java.html" class="tag-a-tag" title="#java">#java</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/javascript.html" class="tag-a-tag" title="#javascript">#javascript</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/lens.html" class="tag-a-tag" title="#lens">#lens</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/lenses.html" class="tag-a-tag" title="#lenses">#lenses</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/life.html" class="tag-a-tag" title="#life">#life</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/logic.html" class="tag-a-tag" title="#logic">#logic</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/math.html" class="tag-a-tag" title="#math">#math</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/mathematics.html" class="tag-a-tag" title="#mathematics">#mathematics</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/monoids.html" class="tag-a-tag" title="#monoids">#monoids</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/nix.html" class="tag-a-tag" title="#nix">#nix</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ocaml.html" class="tag-a-tag" title="#ocaml">#ocaml</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/outdated.html" class="tag-a-tag" title="#outdated">#outdated</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/parallelism.html" class="tag-a-tag" title="#parallelism">#parallelism</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/parsers.html" class="tag-a-tag" title="#parsers">#parsers</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/personal.html" class="tag-a-tag" title="#personal">#personal</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/pipes.html" class="tag-a-tag" title="#pipes">#pipes</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/profunctors.html" class="tag-a-tag" title="#profunctors">#profunctors</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/programming-languages.html" class="tag-a-tag" title="#programming languages">#programming languages</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/prolog.html" class="tag-a-tag" title="#prolog">#prolog</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/recursion-schemes.html" class="tag-a-tag" title="#recursion schemes">#recursion schemes</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/reflection.html" class="tag-a-tag" title="#reflection">#reflection</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ruby.html" class="tag-a-tag" title="#ruby">#ruby</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/scripting.html" class="tag-a-tag" title="#scripting">#scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/servant.html" class="tag-a-tag" title="#servant">#servant</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shake.html" class="tag-a-tag" title="#shake">#shake</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shell-scripting.html" class="tag-a-tag" title="#shell scripting">#shell scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/unix.html" class="tag-a-tag" title="#unix">#unix</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/utilities.html" class="tag-a-tag" title="#utilities">#utilities</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/vim.html" class="tag-a-tag" title="#vim">#vim</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/web-development.html" class="tag-a-tag" title="#web development">#web development</a>&nbsp;<span>(1)</span></li></ul></li></ul></div></nav></section></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2020 Justin Le <span class="license-link">(<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/" class="license">CC-BY-NC-ND 3.0</a>)</span></div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-twitch" title="Watch me on Twitch!" href="https://www.twitch.tv/justin_l">Twitch</a></li><li><a class="social-follow-patreon" title="Support me on Patreon!" href="https://www.patreon.com/justinle/overview">Patreon</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>