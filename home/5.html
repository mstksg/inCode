<!DOCTYPE HTML>
<html><head><title>Home (Page 5) · in Code</title><meta name="description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="flattr:id" content="3p9jqr"><meta property="og:site_name" content="in Code"><meta property="og:description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta property="og:type" content="website"><meta property="og:title" content="Home (Page 5)"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/home/5.html"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/home/5.html"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/home.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><li><a href="https://cv.jle.im">cv</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><section class="home-section" role="main"><header class="tile unit span-grid"><section class="home-banner"><h1 class="home-banner-history"><a href="https://blog.jle.im/">in Code</a></h1></section></header><div class="unit three-of-four"><div class="tile"><h2 class="recent-header">Recent Entries (Page 5)</h2></div><ul><li><article class="tile"><header><time datetime="2018-03-15T10:15:54Z" pubdate="" class="pubdate">Thursday March 15, 2018</time><h3><a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html">You Could Have Invented Matrices!</a></h3></header><div class="entry-lede copy-content"><p>You could have invented matrices!</p>
<p>Let’s talk about vectors. A <strong>vector</strong> (denoted as <span class="math inline">\(\mathbf{x}\)</span>, a lower-case bold italicized letter) is an element in a <strong>vector space</strong>, which means that it can be “scaled”, like <span class="math inline">\(c \mathbf{x}\)</span> (the <span class="math inline">\(c\)</span> is called a “scalar” — creative name, right?) and added, like <span class="math inline">\(\mathbf{x} + \mathbf{y}\)</span>.</p>
<p>In order for vector spaces and their operations to be valid, they just have to obey some <a href="https://en.wikipedia.org/wiki/Vector_space#Definition">common-sense rules</a> (like associativity, commutativity, distributivity, etc.) that allow us to make meaningful conclusions.</p><p><a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag">#linear algebra</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-02-12T10:27:44Z" pubdate="" class="pubdate">Monday February 12, 2018</time><h3><a href="https://blog.jle.im/entry/introducing-the-backprop-library.html">Introducing the backprop library</a></h3></header><div class="entry-lede copy-content"><p><strong>backprop</strong>: <a href="http://hackage.haskell.org/package/backprop">hackage</a> / <a href="https://github.com/mstksg/backprop">github</a></p>
<p>I’m excited to announce the first official release of the <em><a href="http://hackage.haskell.org/package/backprop">backprop</a></em> library (currently at version 0.1.3.0 on hackage)! <em>backprop</em> is a library that allows you write functions on your heterogeneous values like you would normally and takes them and (with reverse-mode automatic differentiation) automatically generate functions computing their gradients. <em>backprop</em> differs from the related <em><a href="http://hackage.haskell.org/package/ad">ad</a></em> by working with functions using and transforming different types, instead of only one monomorphic scalar type.</p>
<p>This has been something I’ve been working on for a while (trying to find a good API for <em>heterogeneous</em> automatic differentiation), and I’m happy to finally find something that I feel good about, with the help of a <em><a href="http://hackage.haskell.org/package/lens">lens</a></em>-based API.</p>
<p>As a quick demonstration, this post will walk through the creation of a simple neural network implementation (inspired by the <a href="https://www.tensorflow.org/versions/r1.2/get_started/mnist/beginners">Tensorflow Tutorial</a> for beginners) to learn handwritten digit recognition for the MNIST data set. To help tell the story, we’re going to be implementing it “normally”, using the <em><a href="http://hackage.haskell.org/package/hmatrix">hmatrix</a></em> library API, and then re-write the same thing using <em><a href="http://hackage.haskell.org/package/backprop">backprop</a></em> and <em><a href="http://hackage.haskell.org/package/hmatrix-backprop">hmatrix-backprop</a></em> (a drop-in replacement for <em>hmatrix</em>).</p><p><a href="https://blog.jle.im/entry/introducing-the-backprop-library.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/introducing-the-backprop-library.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/numerical.html" class="tag-a-tag">#numerical</a></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag">#machine learning</a></li><li><a href="https://blog.jle.im/entries/tagged/artificial-neural-networks.html" class="tag-a-tag">#artificial neural networks</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+backprop.html" class="tag-a-series">+Backprop</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-01-22T11:34:36Z" pubdate="" class="pubdate">Monday January 22, 2018</time><h3><a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html">&quot;Interpreters a la Carte&quot; in Advent of Code 2017 Duet</a></h3></header><div class="entry-lede copy-content"><p>This post is just a fun one exploring a wide range of techniques that I applied to solve the Day 18 puzzles of this past year’s great <a href="https://adventofcode.com/2017">Advent of Code</a>. The puzzles involved interpreting an assembly language on an abstract machine. The twist is that Part A gave you a description of <em>one abstract machine</em>, and Part B gave you a <em>different</em> abstract machine to interpret the <em>same language</em> in.</p>
<p>This twist (one language, but different interpreters/abstract machines) is basically one of the textbook applications of the <em>interpreter pattern</em> in Haskell and functional programming, so it was fun to implement my solution in that pattern — the assembly language source was “compiled” to an abstract monad once, and the difference between Part A and Part B was just a different choice of interpreter.</p>
<p>Even <em>more</em> interesting is that the two machines are only “half different” – there’s one aspect of the virtual machines that are the same between the two parts, and aspect that is different. This means that we can apply the “data types a la carte” technique in order to mix and match isolated components of virtual machine interpreters, and re-use code whenever possible in assembling our interpreters for our different machines! This can be considered an extension of the traditional interpreter pattern: the <em>modular</em> interpreter pattern.</p>
<p>This blog post will not necessarily be a focused tutorial on this trick/pattern, but rather an explanation on my solution centered around this pattern, where I will also add in insight on how I approach and solve non-trivial Haskell problems. We’ll be using the <em><a href="https://hackage.haskell.org/package/operational">operational</a></em> package to implement our interpreter pattern program and the <em><a href="https://hackage.haskell.org/package/type-combinators">type-combinators</a></em> package to implement the modularity aspect, and along the way we’ll also use mtl typeclasses and classy lenses.</p>
<p>The source code is <a href="https://github.com/mstksg/inCode/tree/master/code-samples/duet/Duet.hs">available online</a> and is executable as a stack script. This post is written to be accessible for early-intermediate Haskell programmers.</p><p><a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/tagged/lens.html" class="tag-a-tag">#lens</a></li><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag">#advent of code</a></li><li><a href="https://blog.jle.im/entries/tagged/functor-combinators.html" class="tag-a-tag">#functor combinators</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+beginner-intermediate-haskell-projects.html" class="tag-a-series">+Beginner/Intermediate Haskell Projects</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-01-09T10:54:27Z" pubdate="" class="pubdate">Tuesday January 9, 2018</time><h3><a href="https://blog.jle.im/entry/introduction-to-singletons-2.html">Introduction to Singletons (Part 2)</a></h3></header><div class="entry-lede copy-content"><p>Welcome back to our journey through the singleton design pattern and the great <em><a href="http://hackage.haskell.org/package/singletons">singletons</a></em> library!</p>
<p>This post is a direct continuation of <a href="https://blog.jle.im/entry/introduction-to-singletons-1.html">Part 1</a>, so be sure to check that out first if you haven’t already! If you hare just jumping in now, I suggest taking some time to to through the exercises if you haven’t already!</p>
<p>Again, code is built on <em>GHC 8.6.1</em> with the <em><a href="https://www.stackage.org/nightly-2018-09-29">nightly-2018-09-29</a></em> snapshot (so, <em>singletons-2.5</em>). However, unless noted, all of the code should still work with <em>GHC 8.4</em> and <em>singletons-2.4</em>. All of the code is also available <a href="https://github.com/mstksg/inCode/tree/master/code-samples/singletons/Door2.hs">here</a>, and you can drop into a ghci session with all of the bindings in scope by executing the file:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./Door2.hs</span></code></pre></div><p><a href="https://blog.jle.im/entry/introduction-to-singletons-2.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/introduction-to-singletons-2.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag">#dependent types</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag">#singletons</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li><li><a href="https://blog.jle.im/entries/series/+introduction-to-singletons.html" class="tag-a-series">+Introduction to Singletons</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2017-12-22T10:42:07Z" pubdate="" class="pubdate">Friday December 22, 2017</time><h3><a href="https://blog.jle.im/entry/introduction-to-singletons-1.html">Introduction to Singletons (Part 1)</a></h3></header><div class="entry-lede copy-content"><p>Real dependent types are coming to Haskell soon! Until then, we have the great <em><a href="http://hackage.haskell.org/package/singletons">singletons</a></em> library :)</p>
<p>(<em>Note:</em> This post series has been written and updated to follow <em>singletons-2.6</em>.)</p>
<p>If you’ve ever run into dependently typed programming in Haskell, you’ve probably encountered mentions of singletons (and the <em>singletons</em> library). This series of articles will be my attempt at giving you the story of the library, the problems it solves, the power that it gives to you, and how you can integrate it into your code today!<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> (Also, after <a href="https://blog.jle.im/entry/verified-instances-in-haskell.html">my previous April Fools post</a>, people have been asking me for an actual non-joke singletons post)</p>
<p>This post (Part 1) will go over first using the singleton pattern for <em>reflection</em>, then introducing how the singletons library helps us. Part 2 will discuss using the library for <em>reification</em>, to get types that depend on values at runtime. Part 3 will go into the basics of promoting <em>functions</em> values to become functions on types in a usable, and Part 4 will go deeper into the lifting of functions, using singleton’s <em>defunctionalization</em> scheme to utilize the higher-order functions we love at the type level. Part 3 will go into the basics singleton’s</p>
<p>I definitely am writing this post with the hope that it will be obsolete in a year or two. When dependent types come to Haskell, singletons will be nothing more than a painful historical note. But for now, singletons might be the best way to get your foot into the door and experience the thrill and benefits of dependently typed programming <em>today</em>!</p>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>This series will be based on <a href="http://talks.jle.im/lambdaconf-2017/singletons/">a talk</a> I gave over the summer, and will expand on it.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><p><a href="https://blog.jle.im/entry/introduction-to-singletons-1.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/introduction-to-singletons-1.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag">#dependent types</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag">#singletons</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li><li><a href="https://blog.jle.im/entries/series/+introduction-to-singletons.html" class="tag-a-series">+Introduction to Singletons</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2017-12-07T13:46:51Z" pubdate="" class="pubdate">Thursday December 7, 2017</time><h3><a href="https://blog.jle.im/entry/advent-of-code-2017.html">Advent of Code 2017! Ongoing solutions and explanations</a></h3></header><div class="entry-lede copy-content"><p>Just a short post to share that I started a github repository of my <a href="https://github.com/mstksg/advent-of-code-2017">Advent of Code 2017 Solutions</a>, as I write them!</p>
<p>I also am including my <a href="https://github.com/mstksg/advent-of-code-2017/blob/master/reflections.md">reflections</a> and explanations on my solutions, explaining my thought processes and how the solutions work.</p>
<p>Yes I definitely spent a bit too much time writing the executable, which is an automated (cached) downloader, test suite runner (on sample inputs), and benchmark suite.</p>
<p>I originally was only going to casually try the problems (like I did last year), but I hit a decent global rank by accident on Day 4 (which was very suited for Haskell!), and since then I’ve been taking things seriously to try to aim for the global leaderboard (top 100). This is a struggle for me because I’m not really the <em>fastest</em> algorithm person, but I think it’s a fun goal for me to try to hit this year.</p>
<p>Wish me luck! And if you haven’t started yet, it’s not too late to join in the fun! <a href="https://twitter.com/glguy">glguy</a> has been maintaining the semi-official <a href="adventofcode.com/2017/leaderboard/private">Haskell Leaderboard</a> (join code <code>43100-84040706</code>) – come join us!</p><p><a href="https://blog.jle.im/entry/advent-of-code-2017.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/advent-of-code-2017.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/challenges.html" class="tag-a-tag">#challenges</a></li><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag">#advent of code</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+advent-of-code.html" class="tag-a-series">+Advent of Code</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2017-11-27T11:46:18Z" pubdate="" class="pubdate">Monday November 27, 2017</time><h3><a href="https://blog.jle.im/entry/hamiltonian-dynamics-in-haskell.html">Hamiltonian Dynamics in Haskell</a></h3></header><div class="entry-lede copy-content"><p>As promised in my <a href="https://blog.jle.im/entry/introducing-the-hamilton-library.html"><em>hamilton</em> introduction post</a> (published almost exactly one year ago!), I’m going to go over implementing of the <em><a href="http://hackage.haskell.org/package/hamilton">hamilton</a></em> library using</p>
<ol type="1">
<li><em>DataKinds</em> (with <em>TypeLits</em>) to enforce sizes of vectors and matrices and help guide us write our code</li>
<li>Statically-sized linear algebra with <em><a href="http://hackage.haskell.org/package/hmatrix">hmatrix</a></em></li>
<li>Automatic differentiation with <em><a href="http://hackage.haskell.org/package/ad">ad</a></em></li>
<li>Statically-sized vectors with <em><a href="http://hackage.haskell.org/package/vector-sized">vector-sized</a></em></li>
</ol>
<p>This post will be a bit heavy in some mathematics and Haskell concepts. The expected audience is intermediate Haskell programmers. Note that this is <em>not</em> a post on dependent types, because dependent types (types that depend on runtime values) are not explicitly used.</p>
<p>The mathematics and physics are “extra” flavor text and could potentially be skipped, but you’ll get the most out of this article if you have basic familiarity with:</p>
<ol type="1">
<li>Basic concepts of multivariable calculus (like partial and total derivatives).</li>
<li>Concepts of linear algebra (like dot products, matrix multiplication, and matrix inverses)</li>
</ol>
<p>No physics knowledge is assumed, but knowing a little bit of first semester physics would help you gain a bit more of an appreciation for the end result!</p><p><a href="https://blog.jle.im/entry/hamiltonian-dynamics-in-haskell.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/hamiltonian-dynamics-in-haskell.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/physics.html" class="tag-a-tag">#physics</a></li><li><a href="https://blog.jle.im/entries/tagged/numerical-methods.html" class="tag-a-tag">#numerical methods</a></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag">#dependent types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+hamilton.html" class="tag-a-series">+Hamilton</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2017-08-25T12:37:10Z" pubdate="" class="pubdate">Friday August 25, 2017</time><h3><a href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html">Fixed-Length Vector Types in Haskell (an Update for 2017)</a></h3></header><div class="entry-lede copy-content"><p>This post is a follow-up to my <a href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell-2015.html">fixed-length vectors in haskell in 2015</a> post! When I was writing the post originally, I was new to the whole type-level game in Haskell; I didn’t know what I was talking about, and that post was a way for me to push myself to learn more. Immediately after it was posted, of course, people taught me where I went wrong in the idioms I explained, and better and more idiomatic ways to do things. And that’s great! Learning is awesome!</p>
<p>Unfortunately, however, to my horror, I began noticing people referring to the post in a canonical/authoritative way…so the post became an immediate source of guilt to me. I tried correcting things with my <a href="https://blog.jle.im/entries/series/+practical-dependent-types-in-haskell.html">practical dependent types in haskell</a> series the next year. But I still saw my 2015 post being used as a reference even after that post, so I figured that writing a direct replacement/follow-up as the only way I would ever fix this!</p>
<p>So here we are in 2017. GHC 8.2 is here, and <em>base</em> is in version <em>4.10</em>. What’s the “right” way to do fixed-length vectors in Haskell?</p>
<p>This post doesn’t attempt to present anything groundbreaking or new, but is meant to be a sort of <em>reference/introduction</em> to fixed-length vectors in Haskell, as of GHC 8.2 and the 2017 Haskell ecosystem.</p>
<p>We’ll be looking at two methods here: The first one we will be looking at is a <em>performant</em> fixed-length vector that you will probably be using for any code that requires a fixed-length container — especially for tight numeric code and situations where performance matters. We’ll see how to implement them using the universal native <code>KnownNat</code> mechanisms, and also how we can implement them using <em><a href="http://hackage.haskell.org/package/singletons">singletons</a></em> to help us make things a bit smoother and more well-integrated. For most people, this is all they actually need. (I claim the canonical haskell ecosystem source to be the <em><a href="http://hackage.haskell.org/package/vector-sized">vector-sized</a></em> library)</p>
<p>The second method is a <em>structural</em> fixed-length inductive vector. It’s…actually more like a fixed-length (lazily linked) <em>list</em> than a vector. The length of the list is enforced by the very structure of the data type. This type is more useful as a streaming data type, and also in situations where you want take advantage of the structural characteristics of lengths in the context of a dependently typed program. (I claim the canonical haskell ecosystem source to be the <em><a href="http://hackage.haskell.org/package/type-combinators">type-combinators</a></em> library)</p><p><a href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/fixed-length-vector-types-in-haskell.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag">#dependent types</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag">#singletons</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li><li><a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category">@REFERENCE</a></li></ul></footer></article></li></ul><footer class="tile home-footer"><nav><ul><li class="home-next"><a href="https://blog.jle.im/home/6.html">&larr; Older</a></li><li class="home-prev"><a href="https://blog.jle.im/home/4.html">Newer &rarr;</a></li></ul><div class="clear"></div></nav></footer></div><nav class="unit one-of-four home-sidebar"><div class="tile"><div class="home-links"><ul>
<li><h3 id="social">Social</h3>
<ul>
<li><a href="https://twitter.com/mstk" class="home-link" title="Twitter">Twitter</a></li>
<li><a href="https://github.com/mstksg" class="home-link" title="Github">Github</a></li>
<li><a href="https://plus.google.com/+JustinLe" class="home-link" title="Google+">Google+</a></li>
<li><a href="https://linkedin.com/in/lejustin" class="home-link" title="LinkedIn">LinkedIn</a></li>
<li><a href="https://keybase.io/mstksg" class="home-link" title="Keybase">Keybase (PGP)</a></li>
</ul></li>
<li><h3 id="links">Links</h3>
<ul>
<li><a href="https://cv.jle.im" class="home-link" title="Resume">Resumé</a></li>
<li><a href="https://stackoverflow.com/users/292731/justin-l" class="home-link" title="Stack Overflow">Stack Overflow</a></li>
<li><a href="https://www.twitch.tv/mstksg" class="home-link" title="Twitch">Twitch</a></li>
<li><a href="bitcoin://3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU" class="home-link" title="Bitcoin">Bitcoin</a></li>
</ul></li>
</ul>
<p><a href="https://www.patreon.com/justinle" class="patreon-button" title="Become a Patron"><img src="/img/assets/patreon.png" /></a></p></div><div class="home-patrons"><p>Special thanks to my supporters on Patreon!</p><ul><li><a href="https://twitter.com/gluegadget">Amir Saeid</a></li><li>Andrew Handley-Marsh</li><li><a href="https://twitter.com/austinvhuang">Austin Huang</a></li><li><a href="https://twitter.com/domenkozar">Domen Kožar</a></li><li>Fintan Halpenny</li><li>Josh Miller</li><li><a href="https://twitter.com/joshvera">Josh Vera</a></li><li><a href="https://twitter.com/argumatronic">Julie Moronuki</a></li><li><a href="https://twitter.com/Sam Stites">Sam Stites</a></li><li><a href="https://twitter.com/shapr">Shae Erisson</a></li></ul></div></div><div class="tile home-tags"><ul><li class="home-category-list"><h3><a href="https://blog.jle.im/categories.html">Topics</a></h3><ul><li><a href="https://blog.jle.im/entries/category/@auto.html" class="tag-a-category" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform. Check out the README, tutorial, or examples for
more information!
">@Auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/category/@computation.html" class="tag-a-category" title="Posts that deal with numerical techniques and the art and science of,
well...computing things.
">@Computation</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@engineering.html" class="tag-a-category" title="Posts about engineering, the practical art of taming the physical world.
">@Engineering</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category" title="Functional, pure, non-strict, statically and strongly typed, natively
compiled...really just the king of great languages.
">@Haskell</a>&nbsp;<span>(63)</span></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category" title="@MATH">@Math</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/category/@meta.html" class="tag-a-category" title="Posts about this blog or blogging in general. So meta.
">@Meta</a>&nbsp;<span>(5)</span></li><li><a href="https://blog.jle.im/entries/category/@personal.html" class="tag-a-category" title="@PERSONAL">@Personal</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/category/@physics.html" class="tag-a-category" title="Regarding the models that describe the physical world.
">@Physics</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@projects.html" class="tag-a-category" title="Progress or presentations of completed or ongoing open source projects I have
worked/am working on. Hopefully either the development process or the end
product can be useful to someone!
">@Projects</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/category/@ramblings.html" class="tag-a-category" title="My slight ramblings on subjects of interest (to me and hopefully to you too!).
Lots of surveys and introducts to new subjects.
">@Ramblings</a>&nbsp;<span>(17)</span></li><li><a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category" title="@REFERENCE">@Reference</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category" title="Technical tutorials/walkthroughs on specific programming processes and problems
that I&#39;ve struggled through in the past.
">@Tutorials</a>&nbsp;<span>(17)</span></li></ul></li><li class="home-tags-list"><h3><a href="https://blog.jle.im/tags.html">Tags</a></h3><ul><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag" title="#haskell">#haskell</a>&nbsp;<span>(59)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag" title="#functional programming">#functional programming</a>&nbsp;<span>(39)</span></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag" title="#dependent types">#dependent types</a>&nbsp;<span>(12)</span></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag" title="#types">#types</a>&nbsp;<span>(11)</span></li><li><a href="https://blog.jle.im/entries/tagged/monads.html" class="tag-a-tag" title="#monads">#monads</a>&nbsp;<span>(10)</span></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag" title="#singletons">#singletons</a>&nbsp;<span>(10)</span></li><li><a href="https://blog.jle.im/entries/tagged/advent-of-code.html" class="tag-a-tag" title="#advent of code">#advent of code</a>&nbsp;<span>(8)</span></li><li><a href="https://blog.jle.im/entries/tagged/functor-combinators.html" class="tag-a-tag" title="#functor combinators">#functor combinators</a>&nbsp;<span>(7)</span></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag" title="#machine learning">#machine learning</a>&nbsp;<span>(7)</span></li><li><a href="https://blog.jle.im/entries/tagged/physics.html" class="tag-a-tag" title="#physics">#physics</a>&nbsp;<span>(5)</span></li><li><a href="https://blog.jle.im/entries/tagged/arrows.html" class="tag-a-tag" title="#arrows">#arrows</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/interpreters.html" class="tag-a-tag" title="#interpreters">#interpreters</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/io.html" class="tag-a-tag" title="#io">#io</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical.html" class="tag-a-tag" title="#numerical">#numerical</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical-methods.html" class="tag-a-tag" title="#numerical methods">#numerical methods</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/artificial-neural-networks.html" class="tag-a-tag" title="#artificial neural networks">#artificial neural networks</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto.html" class="tag-a-tag" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform.
">#auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto-machines.html" class="tag-a-tag" title="Posts about the &quot;automation arrow&quot; type, an implementation of the mathematical
&quot;mealy machine&quot;.
">#auto-machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag" title="#backprop">#backprop</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/challenges.html" class="tag-a-tag" title="#challenges">#challenges</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag" title="#deep learning">#deep learning</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag" title="#differentiable programming">#differentiable programming</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/free.html" class="tag-a-tag" title="#free">#free</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag" title="#linear algebra">#linear algebra</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/machines.html" class="tag-a-tag" title="#machines">#machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag" title="#modeling">#modeling</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/purescript.html" class="tag-a-tag" title="#purescript">#purescript</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/abstract-algebra.html" class="tag-a-tag" title="#abstract algebra">#abstract algebra</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/bash.html" class="tag-a-tag" title="#bash">#bash</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/control-theory.html" class="tag-a-tag" title="#control theory">#control theory</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/doctorate.html" class="tag-a-tag" title="#doctorate">#doctorate</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/education.html" class="tag-a-tag" title="#education">#education</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/existential-types.html" class="tag-a-tag" title="#existential types">#existential types</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/group-theory.html" class="tag-a-tag" title="#group theory">#group theory</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/invariant-functors.html" class="tag-a-tag" title="#invariant functors">#invariant functors</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/abominations.html" class="tag-a-tag" title="#abominations">#abominations</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ad.html" class="tag-a-tag" title="#ad">#ad</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/algebra.html" class="tag-a-tag" title="#algebra">#algebra</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/applicatives.html" class="tag-a-tag" title="#applicatives">#applicatives</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/category-theory.html" class="tag-a-tag" title="#category theory">#category theory</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/cellular-automata.html" class="tag-a-tag" title="#cellular automata">#cellular automata</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/chapman.html" class="tag-a-tag" title="#chapman">#chapman</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/command-line.html" class="tag-a-tag" title="#command line">#command line</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/dhall.html" class="tag-a-tag" title="#dhall">#dhall</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fay.html" class="tag-a-tag" title="#fay">#fay</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fortran.html" class="tag-a-tag" title="#fortran">#fortran</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-reactive-programming.html" class="tag-a-tag" title="#functional reactive programming">#functional reactive programming</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/functors.html" class="tag-a-tag" title="#functors">#functors</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ghcjs.html" class="tag-a-tag" title="#ghcjs">#ghcjs</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/hakyll.html" class="tag-a-tag" title="#hakyll">#hakyll</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/heroku.html" class="tag-a-tag" title="#heroku">#heroku</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/java.html" class="tag-a-tag" title="#java">#java</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/javascript.html" class="tag-a-tag" title="#javascript">#javascript</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/lens.html" class="tag-a-tag" title="#lens">#lens</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/lenses.html" class="tag-a-tag" title="#lenses">#lenses</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/life.html" class="tag-a-tag" title="#life">#life</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/logic.html" class="tag-a-tag" title="#logic">#logic</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/math.html" class="tag-a-tag" title="#math">#math</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/mathematics.html" class="tag-a-tag" title="#mathematics">#mathematics</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/monoids.html" class="tag-a-tag" title="#monoids">#monoids</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/nix.html" class="tag-a-tag" title="#nix">#nix</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ocaml.html" class="tag-a-tag" title="#ocaml">#ocaml</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/outdated.html" class="tag-a-tag" title="#outdated">#outdated</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/parallelism.html" class="tag-a-tag" title="#parallelism">#parallelism</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/parsers.html" class="tag-a-tag" title="#parsers">#parsers</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/personal.html" class="tag-a-tag" title="#personal">#personal</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/pipes.html" class="tag-a-tag" title="#pipes">#pipes</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/profunctors.html" class="tag-a-tag" title="#profunctors">#profunctors</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/programming-languages.html" class="tag-a-tag" title="#programming languages">#programming languages</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/prolog.html" class="tag-a-tag" title="#prolog">#prolog</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/recursion-schemes.html" class="tag-a-tag" title="#recursion schemes">#recursion schemes</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/reflection.html" class="tag-a-tag" title="#reflection">#reflection</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ruby.html" class="tag-a-tag" title="#ruby">#ruby</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/scripting.html" class="tag-a-tag" title="#scripting">#scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/servant.html" class="tag-a-tag" title="#servant">#servant</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shake.html" class="tag-a-tag" title="#shake">#shake</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shell-scripting.html" class="tag-a-tag" title="#shell scripting">#shell scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/unix.html" class="tag-a-tag" title="#unix">#unix</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/utilities.html" class="tag-a-tag" title="#utilities">#utilities</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/vim.html" class="tag-a-tag" title="#vim">#vim</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/web-development.html" class="tag-a-tag" title="#web development">#web development</a>&nbsp;<span>(1)</span></li></ul></li></ul></div></nav></section></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2020 Justin Le <span class="license-link">(<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/" class="license">CC-BY-NC-ND 3.0</a>)</span></div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-twitch" title="Watch me on Twitch!" href="https://www.twitch.tv/justin_l">Twitch</a></li><li><a class="social-follow-patreon" title="Support me on Patreon!" href="https://www.patreon.com/justinle/overview">Patreon</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>