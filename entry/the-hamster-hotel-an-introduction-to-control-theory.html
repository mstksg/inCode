<!DOCTYPE HTML>
<html><head><title>The Hamster Hotel: An Introduction to Control Theory (Part 1) · in Code</title><meta name="description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="flattr:id" content="3p9jqr"><meta property="og:site_name" content="in Code"><meta property="og:description" content="Over this summer my work has been in the field of control theory. I must admit that I at first found it a little odd that the idea of “controlling something” — say, the temperature of a room or the speed of a fan — could be an extremely deep/rich mathematical and engineering discipline. This series should hopefully be an enlightening walk through this wonderful world that is control theory, and explore (without any complex mathematics) just how much genius goes into those simple things we all take for granted. Welcome to the Hamster Hotel."><meta property="og:type" content="article"><meta property="og:title" content="The Hamster Hotel: An Introduction to Control Theory (Part 1)"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory.html"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory.html"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/entry.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/page/entry_toc.js"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script><script type="text/javascript" src="https://blog.jle.im/js/social.js"></script><script type="text/javascript" src="https://blog.jle.im/js/jquery/jquery.toc.js"></script><script type="text/javascript" src="https://blog.jle.im/purescript/entry.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><li><a href="https://cv.jle.im">cv</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><div class="entry-section unit span-grid" role="main"><article class="tile article"><header><h1 id="title">The Hamster Hotel: An Introduction to Control Theory (Part 1)</h1><p class="entry-info">by <a class="author" href="https://blog.jle.im/">Justin Le</a><span class="info-separator"> &diams; </span><time datetime="2013-09-26T14:05:13Z" pubdate="" class="pubdate">Thursday September 26, 2013</time></p><p><span class="source-info"><a class="source-link" href="https://github.com/mstksg/inCode/tree/master/copy/entries/control-intro.md">Source</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://github.com/mstksg/inCode/tree/gh-pages/entry/the-hamster-hotel-an-introduction-to-control-theory.md">Markdown</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory.tex">LaTeX</a><span class="info-separator"> &diams; </span></span>Posted in <a href="https://blog.jle.im/entries/category/@engineering.html" class="tag-a-category" title="Posts about engineering, the practical art of taming the physical world.
">Engineering</a>, <a href="https://blog.jle.im/entries/category/@ramblings.html" class="tag-a-category" title="My slight ramblings on subjects of interest (to me and hopefully to you too!).
Lots of surveys and introducts to new subjects.
">Ramblings</a><span class="info-separator"> &diams; </span><a class="comment-link" href="#disqus_thread">Comments</a></p></header><hr><aside class="contents-container"><h5 id="contents-header">Contents</h5><div id="toc"></div></aside><div class="main-content copy-content"><p>Over this summer my work has been in the field of control theory. I must admit that I at first found it a little odd that the idea of “controlling something” — say, the temperature of a room or the speed of a fan — could be an extremely deep/rich mathematical and engineering discipline.</p>
<p>This series should hopefully be an enlightening walk through this wonderful world that is control theory, and explore (without any complex mathematics) just how much genius goes into those simple things we all take for granted.</p>
<p>Welcome to <strong>the Hamster Hotel</strong>.</p>
<h2 id="the-hamster-hotel">The Hamster Hotel</h2>
<p>You run a hamster hotel (a hotel for hamsters) and you have a problem. Elevators. Your hamster guests need to get from one story to another. They walk into the elevator, the elevator takes them to the right floor, and they walk off.</p>
<p>Due to an unfortunate mix-up on your contractor’s part, your only option is elevators operated via water jets (like the ones at water fountains). You can control how hard the jets push with a valve that you can open or shut partially. The water jets push little plates in chutes up, and the hamsters hitch along for a ride.</p>
<p>Let’s say you can control how much the valve is open by twisting a knob (kind of like a garden hose). The more open the valve is, the higher the jet goes and the higher the elevator car.</p>
<p>How do you find out how much you have to open the valve up to get the car to go <em>exactly</em> to the second story?</p>
<h2 id="thats-easy">That’s Easy! (?)</h2>
<p>Let’s try out some simple solutions. What would you do first?</p>
<h3 id="measure-it-out">Measure it out</h3>
<p>The most straightforward solution would be to get a ruler and do some good ol’ empirical science-ing. You’ll open the valve until you get to each floor. Then, you’ll write down the amount that you’ve twisted the knob (10%, 20%?). Then, whenever you want to go to a floor, you’ll look it up on your table, twist the knob to the corresponding value, and hamsters rejoice!</p>
<p>Time to do this. Ground floor? 0% twisted open. Second floor? 3%. Third floor? 12%. Fourth floor? 27%. To get to the roof, you need to only set it to 48% open.</p>
<p>Now that you have completely science’d the situation, it’s time to start using your elevator. You load up a hamster for the inaugural ride.</p>
<h4 id="the-plight-of-the-hamster">The Plight of the Hamster</h4>
<p>First problem. With a hamster actually inside the elevator, the whole thing is heavier, and a 3% open valve just doesn’t cut it anymore to get it up even one story. You find out that have to crank it up to 5%. Third floor now takes a 20% opened valve.</p>
<p>This is a disaster! Not only is your valued guest disappointed, but this fiasco has also rendered the entire first percentages table useless. You might try to change the table to account for one hamster. But what if your guest takes along also the missus as well? Should we keep two tables – one for a one-hamster car, and one for a two-hamster car?</p>
<p>But we mustn’t stereotype — hamsters all have different weights. And what if the guests had luggage? Maybe we can measure the luggage, and create a new table for every possible total weight combination?</p>
<p>What if one day the water pressure of the water jet drops, so less water comes out when the knob is twisted? Do you have to remeasure everything all over again?</p>
<p>Clearly, there must be a better way.</p>
<h3 id="the-analyzer">The Analyzer</h3>
<p>You just graduated with your bachelor’s degree in Physics. You know all about the laws governing force, gravity, water, pressure, potential energy, friction, turbulence, hamster physiology … all of that stuff. You memorized all of the equations, because that’s what Physics is all about, right?<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>So, you whip out your precious equations (which you hold to be worth at least the $200,000 you spent to learn them). Sure enough, you have enough equations in your tool belt to describe and model the physical system almost perfectly. There are some constants you need to figure out — the friction in the shaft, for example, or the width of your pipes — and after that, given the weight of the load, the water pressure per degree of knob twist (which may change depending on the day), the desired height, the ambient room temperature, the heat of the elevator shaft, the temperature inside the pipes, the current air pressure, the humidity, the state of the lubrication in the shaft … you can predict exactly how much you need to twist that water knob.</p>
<p>You write a little program on your TI-89 to calculate the right amount of twist for all of those parameters, and you are good to go!</p>
<h4 id="does-not-compute">Does Not Compute</h4>
<p>You see where the flaw in the plan is?</p>
<p>Of course: it’s very rude to ask a hamster for her weight!</p>
<p>Also, aside from that, there are just too many parameters you have to constantly monitor, measure, and maintain. If you don’t get it all exactly right, your hamsters are likely to get stuck inside somehow. Certainly not the path to gaining a five star reputation!</p>
<p>Even if you somehow managed to find all of the proper parameters to a “good enough” level every time … in general, it’s unrealistic to expect to be able to derive an analytic solution to all of your problems.</p>
<p>All these things aside, there are even graver issues that plague this system.</p>
<p>What if the parameters change in mid-trip? What if the water pressure suddenly dropped? What if the lubrication was different along the length of the shaft? What if a hamster jumps onto the car last-minute?</p>
<p>Certainly if any of these things happened, our poor hamster guests would undoubtedly fall straight to their doom.</p>
<p>The problem with this system is that it’s simply not <strong>dynamic</strong>.</p>
<p>Sure, you could make a model that accounts for all of the changes possible, but is that really practical?</p>
<p>For a genius the likes of which the world has never seen, it may be <em>possible</em>.</p>
<p>But … there <em>has</em> to be a better way.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>It’s not<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div><footer><hr><div class="copy-content"><p>Hi, thanks for reading! You can reach me via email at <a href="mailto:justin@jle.im" class="email">justin@jle.im</a>, or at twitter at <a href="https://twitter.com/mstk">@mstk</a>! This post and all others are published under the <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/">CC-BY-NC-ND 3.0</a> license. Corrections and edits via pull request are welcome and encouraged at <a href="https://github.com/mstksg/inCode">the source repository</a>.</p>
<p>If you feel inclined, or this post was particularly helpful for you, why not consider <a href="https://www.patreon.com/justinle/overview">supporting me on Patreon</a>, or a <a href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">BTC donation</a>? :)</p></div><div class="clear"></div><ul class="entry-series"><li><div>This entry is a part of a series called <b>&quot;Introduction to Control Theory&quot;</b>.  Find the rest of the entries in this series at its <a href="https://blog.jle.im/entries/series/+introduction-to-control-theory.html" class="tag-a-series" title="A series of introductions to the subtle craft of controlling physical things
effectively.
"> series history</a>.</div></li></ul><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/control-theory.html" class="tag-a-tag">#control theory</a></li><li><a href="https://blog.jle.im/entries/category/@engineering.html" class="tag-a-category">@ENGINEERING</a></li><li><a href="https://blog.jle.im/entries/category/@ramblings.html" class="tag-a-category">@RAMBLINGS</a></li><li><a href="https://blog.jle.im/entries/series/+introduction-to-control-theory.html" class="tag-a-series">+Introduction to Control Theory</a></li></ul><aside class="social-buttons"><div class="addthis_toolbox addthis_default_style addthis-buttons"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a><a class="addthis_button_tweet"></a><a class="addthis_button_google_plusone" g:plusone:size="medium"></a><a class="addthis_counter addthis_pill_style"></a></div><div class="custom-social-buttons"><div class="custom-social-button"><a href="https://www.reddit.com/submit" onclick="window.location = &#39;https://www.reddit.com/submit?url=&#39;+ encodeURIComponent(window.location); return false"><img src="https://www.reddit.com/static/spreddit7.gif" alt="submit to reddit"></a></div></div></aside><nav class="next-prev-links"><ul><li class="prev-entry-link">&larr; <a href="https://blog.jle.im/entry/shake-task-automation-and-scripting-in-haskell.html">Shake: Task Automation and Scripting in Haskell</a> (Previous)</li><li class="next-entry-link">(Next) <a href="https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory-2.html">The Hamster Hotel: An Introduction to Control Theory (Part 2)</a> &rarr;</li></ul></nav></footer></article><div class="post-entry"><div class="tile"><div id="disqus_thread"></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory.html';
    this.page.identifier = 'control-intro';
};
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//incode.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a><br></noscript><a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a></div></div></div></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2020 Justin Le <span class="license-link">(<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/" class="license">CC-BY-NC-ND 3.0</a>)</span></div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-twitch" title="Watch me on Twitch!" href="https://www.twitch.tv/justin_l">Twitch</a></li><li><a class="social-follow-patreon" title="Support me on Patreon!" href="https://www.patreon.com/justinle/overview">Patreon</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>