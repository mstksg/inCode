<!DOCTYPE HTML>
<html><head><title>Deploying Medium to Large Haskell Apps to Heroku by Precompiling · in Code</title><meta name="description" content="Weblog of Justin Le, covering various adventures in programming and explorations in the worlds of computation physics, and knowledge.
"><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="flattr:id" content="3p9jqr"><meta property="og:site_name" content="in Code"><meta property="og:description" content="UPDATE: This post was written in 2013, where the options available to someone looking to host a Haskell site on Heroku were fairly limited. It’s (as of the time of writing this) 2015 now and things have changed. Check out the comments for two good alternatives to this that are working today! Consider the rest of this article obsolete, or look here if none of the solutions given in the comments work :)"><meta property="og:type" content="article"><meta property="og:title" content="Deploying Medium to Large Haskell Apps to Heroku by Precompiling"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/entry/deploying-medium-to-large-haskell-apps-to-heroku.html"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/entry/deploying-medium-to-large-haskell-apps-to-heroku.html"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/entry.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/page/entry_toc.js"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script><script type="text/javascript" src="https://blog.jle.im/js/social.js"></script><script type="text/javascript" src="https://blog.jle.im/js/jquery/jquery.toc.js"></script><script type="text/javascript" src="https://blog.jle.im/purescript/entry.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><li><a href="https://cv.jle.im">cv</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><div class="entry-section unit span-grid" role="main"><article class="tile article"><header><h1 id="title">Deploying Medium to Large Haskell Apps to Heroku by Precompiling</h1><p class="entry-info">by <a class="author" href="https://blog.jle.im/">Justin Le</a><span class="info-separator"> &diams; </span><time datetime="2013-10-07T11:07:25Z" pubdate="" class="pubdate">Monday October 7, 2013</time></p><p><span class="source-info"><a class="source-link" href="https://github.com/mstksg/inCode/tree/master/copy/entries/heroku-precompile.md">Source</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://github.com/mstksg/inCode/tree/gh-pages/entry/deploying-medium-to-large-haskell-apps-to-heroku.md">Markdown</a><span class="info-separator"> &diams; </span><a class="source-link" href="https://blog.jle.im/entry/deploying-medium-to-large-haskell-apps-to-heroku.tex">LaTeX</a><span class="info-separator"> &diams; </span></span>Posted in <a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category" title="Functional, pure, non-strict, statically and strongly typed, natively
compiled...really just the king of great languages.
">Haskell</a>, <a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category" title="Technical tutorials/walkthroughs on specific programming processes and problems
that I&#39;ve struggled through in the past.
">Tutorials</a><span class="info-separator"> &diams; </span><a class="comment-link" href="#disqus_thread">Comments</a></p></header><hr><aside class="contents-container"><h5 id="contents-header">Contents</h5><div id="toc"></div></aside><div class="main-content copy-content"><p><strong>UPDATE</strong>: This post was written in 2013, where the options available to someone looking to host a Haskell site on Heroku were fairly limited. It’s (as of the time of writing this) 2015 now and things have changed. Check out <a href="http://blog.jle.im/entry/deploying-medium-to-large-haskell-apps-to-heroku#disqus_thread">the comments</a> for two good alternatives to this that are working today!</p>
<p>Consider the rest of this article obsolete, or look here if none of the solutions given in the comments work :)</p>
<h2 id="old-article-written-2013">Old Article (Written 2013)</h2>
<p>If you do a search on how to deploy Haskell apps to Heroku these days, chances are you are going to find the very elegant method (here’s <a href="http://adit.io/posts/2013-04-15-making-a-website-with-haskell.html#deploying-to-heroku">one solution</a>, and <a href="http://blog.begriffs.com/2013/08/deploying-yesod-to-heroku-with-postgres.html">another</a>) involving leveraging Heroku’s powerful <a href="https://devcenter.heroku.com/articles/cedar">Cedar stack</a> and having Heroku use <code>cabal install</code> to download and compile your app and all of its dependencies into a native binary on the server itself. It’s a rather beautiful solution to the problem of a truly polyglot automated production server.</p>
<p>The <a href="https://github.com/mstksg/blog">blog engine</a> that runs this blog is written in Haskell. When I tried to deploy it using those steps, I encountered a rather frustrating roadblock:</p>
<p>Heroku enforces a hard time-out limit of <strong>fifteen minutes</strong> for all of its apps to compile and deploy. And because <em>cabal</em> needs time to download and compile every dependency, a typical non-trivial app (like a blog) would reach this limit very quickly with only a <a href="https://github.com/mstksg/blog/blob/master/blog.cabal#L20-52">modest amount of dependencies</a>.</p>
<p>I did some searching on this and asked around on the irc channel, but I was not able to find any real-world examples of <em>non-trivial</em> apps being deployed to Haskell using this method. It seemed like most articles simply deployed a toy project, and left it at that. (On that note, if anyone has actually had success with this, or knows someone who has, please let me know)</p>
<p>Until Heroku’s time-out limit can be adjusted or bypassed, the only real solution (besides incrementally pushing dependencies with a buildpack that caches — a solution even uglier and less practical) is to pre-compile your binary to an architecture that Heroku supports.</p>
<p>There are some tutorials on this already, but few are up to date and flexible/comprehensive, so here is my shot.</p>
<p>As an <strong>important note</strong>: this method is a lot less elegant and maintanable (in principle) than the recommended buildpack method; only use it if you are absolutely certain that buildpacks won’t work for you.</p>
<p>Also note that this assumes that your app is already configured to work on Heroku — that it doesn’t modify the filesystem after the deploy (so no <em>sqlite</em>), it uses the <code>$DATABASE_URL</code> environment variable to establish database connections, it uses the <code>$PATH</code> environment variable to choose the port to listen to, and other small things you just have to worry about that is out of the scope of this post.</p>
<p>Much of this post is owed to <a href="https://github.com/yesodweb/yesod/wiki/Deploying-Yesod-Apps-to-Heroku">this article on the Yesod wiki</a>.</p>
<h2 id="compiling-your-binary">Compiling Your Binary</h2>
<h3 id="the-virtual-machine">The Virtual Machine</h3>
<p>First of all, we need to find ourselves a machine with the same architecture as the Heroku virtual machines. For most people, it is not practical to go out and buy a physical machine that you can use for yourself, so we’re going to be setting up a virtual one here.</p>
<p>A lot of this is going to be verbatim from <a href="https://github.com/yesodweb/yesod/wiki/Setting-up-a-virtual-machine%2C-using-VirtualBox-and-Vagrant">this reference</a>, with a few updates.</p>
<ol type="1">
<li><p>You’re going to need <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a>, from Oracle. Most modern work on virtual machines leverage this great tool.</p></li>
<li><p>Install <a href="http://downloads.vagrantup.com/">vagrant</a>, a really convenient wrapper around the raw VirtualBox functionality that integrates things like build scripts and configurations into an easy-to-use package.</p></li>
<li><p>Clone/download the <a href="https://bitbucket.org/puffnfresh/vagrant-haskell-heroku">vagrant-haskell-heroku</a> project from BitBucket. This is the vagrant project that will set up everything you need to build and deploy to Heroku — an installation of GHC, the Haskell Platform, and the Heroku Toolbelt, all on a 64 bit Ubuntu 10.04 image.</p></li>
<li><p>Edit the <code>Vagrantfile</code>; on the line starting with <code>chef.json.merge!</code>, change the values to the versions of <a href="http://www.haskell.org/ghc/">GHC</a> and <a href="http://www.haskell.org/platform/">Haskell Platform</a> you will be using.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>chef<span class="at">.json.merge!</span>(<span class="kw">{</span> <span class="wa">:ghc_version</span> <span class="kw">=&gt;</span> <span class="vs">&#39;7.4.4&#39;</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                   <span class="wa">:haskell_platform_version</span> <span class="kw">=&gt;</span> <span class="vs">&#39;2012.4.0.0&#39;</span><span class="kw">}</span>)</span></code></pre></div>
<p>I’m using <code>ghc-7.6.3</code> to develop, and as of October 2013, the lastest stable Haskell Platform is <code>2013.2.0.0</code>.</p></li>
<li><p>Launch your virtual machine with</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> vagrant up</span></code></pre></div>
<p>This will launch the VM and install the given versions of GHC and the Haskell Platform. You are mostly good to go now – log onto your machine using</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> vagrant ssh</span></code></pre></div>
<p>If this doesn’t work, try installing <code>libgc-dev</code>. <code>vagrant ssh</code> should send you into an “ssh” session on your VM. Once there, let’s run some basic bookkeeping/updating that isn’t handled by the vagrant project:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get update</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get upgrade</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get install git-core</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cabal update</span></code></pre></div></li>
</ol>
<p>And you should have a fresh virtual machine compatible with Heroku ready to build your project on.</p>
<h3 id="building-your-project">Building Your Project</h3>
<p>At this point, there are many ways to proceed. Building is now more or less the same as if you were building on your own production server. Here is one way to go about it.</p>
<ol type="1">
<li><p>Get your project files onto your guest (virtual) machine.</p>
<ul>
<li><p>If your projects are on a version control repository like <a href="https://www.github.com">Github</a> or any accessible server, then getting your files on your guest machine and keeping them up-to-date is as easy as a <code>git pull</code> (substitute git for whatever version control you use).</p></li>
<li><p>If not, the directory that your vagrant files are stored in is actually mounted onto the file system of the guest machine. You can access it at <code>/vagrant</code> on the guest machine.</p>
<p>This is really handy for transferring things like ssh keys, but you can also use this to get your project files onto your guest machine. Simply copy them over somehow onto a folder in the vagrant directory, and you can then access them on your virtual machine and do what you want with them.</p>
<p>However, if you want to keep your files up to date, you’ll have to do this manually.</p></li>
<li><p>If you are using version control like <em>git</em>, but you aren’t hosting it on a server (and why not? you can even <a href="https://github.com/sitaramc/gitolite">host a repo server locally on your own machine</a>.), see if you can use a local folder as a repository source.</p>
<p>For <em>git</em>, this is pretty simple. You only need to run <code>git init --bare</code> on the folder you want to use as the repository, and add the local filesystem path as the remote url. There are many resources explaining this process in detail, like <a href="http://www.jedi.be/blog/2009/05/06/8-ways-to-share-your-git-repository/">this post</a> and <a href="http://treeleaf.be/blog/2011/03/creating-a-new-git-repository-on-a-local-file-system/">this one</a></p></li>
</ul></li>
<li><p>Build the executable. This is the same as on any machine. However, I strongly recommend using some kind of sandboxing system like <a href="http://hackage.haskell.org/package/cabal-dev">cabal-dev</a>, or cabal 1.18’s built-in sandboxing, just to make sure you don’t run into any problems in the future.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   using cabal-dev</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cabal install cabal-dev</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   you can add ~/.cabal/bin to your $PATH if you want</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ~/.cabal/bin/cabal-dev install</span></code></pre></div>
<p>If any of your cabal packages require developer libraries to be installed on your machine (anything involving Postgres comes to mind), you’ll need to be sure that they are installed. A simple <code>apt-get</code> should take care of this for all relevant packages.</p>
<p>After everything downloads, builds, installs, etc., your executable will be created as <code>dist/build/app-name/app-name</code>.</p>
<p>This will also be a good test as to whether or not you specified your dependencies in your <code>.cabal</code> file properly.</p></li>
</ol>
<h2 id="deploying-it-all">Deploying it all</h2>
<p>Almost there! Your binary is now compiled; how are you going to deploy it to Heroku?</p>
<ol type="1">
<li><p>First, you have to commit your binary to version control. Some people recommend using a separate branch for this, but because your guest machine’s project directory is kind of a transient thing, this really isn’t that necessary.</p>
<p>You can simply forcefully add the file to git as it is, because chances are you have it already in your <code>.gitignore</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git add <span class="at">-f</span> dist/build/app-name/app-name</span></code></pre></div>
<p>Alternatively, you can create a <code>bin/</code> folder and copy the executable there. It really doesn’t make a difference, except that you don’t have to modify your <code>.gitignore</code>.</p></li>
<li><p>Now, you need to create your <code>Procfile</code> — this specifies the processes that Heroku will be executing.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Procfile</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">web</span><span class="kw">:</span><span class="co"> # system command to launch your server</span></span></code></pre></div>
<p>For some web servers, it is simply the path to the executable; for some frameworks like <em>Yesod</em>, you need to specify the flag <code>-p $PORT</code>, because Heroku specifies the port you are to listen to via the environment variable.</p></li>
<li><p>Heroku requires every project to have <em>some</em> buildpack. Because the actual web processes are specified in your <code>Procfile</code>, buildpacks won’t interfere with any actual execution of your server.</p>
<p>There are three easy ways to do this — you can either use a blank <code>requirements.txt</code> (the easiest way) to act like a <em>Python</em> app, a valid but empty <code>package.json</code> to act like a <em>Node.js</em> app, or a valid but empty <code>Gemfile</code> and <code>Gemfile.lock</code> combination to act like a <em>ruby</em> app.</p>
<p>But hey, if you use any node packages or gems or python packages in your project, then you can actually use this to your advantage! I personally use <em><a href="http://compass-style.org/">compass</a></em> a lot for their extensions to <em>sass</em>, so adding it is as simple as using a <em>Gemfile</em> — just like in any normal ruby app.</p>
<p>If you want to mix and match libraries from different languages/ecosystems, you can use the <a href="https://github.com/ddollar/heroku-buildpack-multi">multi</a> buildpack and have Heroku check for packages in all of the normal package managers of the languages you specify.</p></li>
<li><p>Configure your <a href="https://toolbelt.heroku.com/">Heroku Toolbelt</a>, and deploy.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   create your app</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> heroku create appname</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   and, after making sure everything is set up, committed, and in order...</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git push heroku master</span></code></pre></div>
<p>If you have done everything right, this should be successful. Hooray!</p></li>
<li><p>Make sure your <code>web</code> process is running properly. You can do this by going to <a href="https://dashboard.heroku.com/apps" class="uri">https://dashboard.heroku.com/apps</a>, clicking on your app, and making sure under <strong>Dynos</strong> that the check box next to “web” is checked off.</p></li>
</ol>
<p>And that should be it!</p>
<h2 id="after-the-deploy">After the Deploy</h2>
<p>Your app should be running successfully now! Probably. Maybe. If you run into any problems, let me know in the comments. But to preempt any issues that might arise, here are some things that it might be important to pay attention to.</p>
<ul>
<li><p>If you are using Heroku’s Postgres instances (and you should, they are amazing and probably more reliable than anything you could host yourself on cheap, for free), you will have to make sure to <a href="https://devcenter.heroku.com/articles/heroku-postgresql">configure them properly</a>.</p>
<p>If you have problems making a connection, you can try the <a href="http://hackage.haskell.org/package/heroku">heroku</a> package on Hackage and integrate it with your database connection backends.</p></li>
<li><p>You are probably going to want to automate your entire re-deploy process — the pull, the build/install, the copying of the executable, the committing of the binary to version control, and the deploy to Heroku.</p>
<p>You can use your favorite task management system, like <em>Make</em>, <em>Rake</em>, or even <em>Shake</em> (see my <a href="/entry/shake-task-automation-and-shell-scripting-in-haskell">brief tutorial on Shake</a>)</p>
<p>Your basic workflow should consist of pushing your project files to your repository on your host machine, and <code>vagrant ssh</code>-ing onto your guest machine and executing one or two commands to automate the entire re-deploy process.</p></li>
<li><p>Be aware of good virtual machine management practices. Suspend your machine whenever you are not using it:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   suspend</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> vagrant suspend</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   resume</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> vagrant resume</span></code></pre></div>
<p>and you will also prevent things from getting hairy in case of a system crash on the host side.</p></li>
</ul>
<p>Good luck developing for the web on the Haskell platform, and welcome to the club!</p></div><footer><hr><div class="copy-content"><p>Hi, thanks for reading! You can reach me via email at <a href="mailto:justin@jle.im" class="email">justin@jle.im</a>, or at twitter at <a href="https://twitter.com/mstk">@mstk</a>! This post and all others are published under the <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/">CC-BY-NC-ND 3.0</a> license. Corrections and edits via pull request are welcome and encouraged at <a href="https://github.com/mstksg/inCode">the source repository</a>.</p>
<p>If you feel inclined, or this post was particularly helpful for you, why not consider <a href="https://www.patreon.com/justinle/overview">supporting me on Patreon</a>, or a <a href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">BTC donation</a>? :)</p></div><div class="clear"></div><ul class="entry-series"></ul><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/heroku.html" class="tag-a-tag">#heroku</a></li><li><a href="https://blog.jle.im/entries/tagged/outdated.html" class="tag-a-tag">#outdated</a></li><li><a href="https://blog.jle.im/entries/tagged/web-development.html" class="tag-a-tag">#web development</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category">@TUTORIALS</a></li></ul><aside class="social-buttons"><div class="addthis_toolbox addthis_default_style addthis-buttons"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a><a class="addthis_button_tweet"></a><a class="addthis_button_google_plusone" g:plusone:size="medium"></a><a class="addthis_counter addthis_pill_style"></a></div><div class="custom-social-buttons"><div class="custom-social-button"><a href="https://www.reddit.com/submit" onclick="window.location = &#39;https://www.reddit.com/submit?url=&#39;+ encodeURIComponent(window.location); return false"><img src="https://www.reddit.com/static/spreddit7.gif" alt="submit to reddit"></a></div></div></aside><nav class="next-prev-links"><ul><li class="prev-entry-link">&larr; <a href="https://blog.jle.im/entry/the-hamster-hotel-an-introduction-to-control-theory-2.html">The Hamster Hotel: An Introduction to Control Theory (Part 2)</a> (Previous)</li><li class="next-entry-link">(Next) <a href="https://blog.jle.im/entry/log-sh-lightweight-command-line-note-logging.html">log.sh: Lightweight Command Line Note &amp; Logging</a> &rarr;</li></ul></nav></footer></article><div class="post-entry"><div class="tile"><div id="disqus_thread"></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://blog.jle.im/entry/deploying-medium-to-large-haskell-apps-to-heroku.html';
    this.page.identifier = 'heroku-precompile';
};
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//incode.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a><br></noscript><a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a></div></div></div></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2020 Justin Le <span class="license-link">(<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/" class="license">CC-BY-NC-ND 3.0</a>)</span></div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-twitch" title="Watch me on Twitch!" href="https://www.twitch.tv/justin_l">Twitch</a></li><li><a class="social-follow-patreon" title="Support me on Patreon!" href="https://www.patreon.com/justinle/overview">Patreon</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>